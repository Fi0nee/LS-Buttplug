<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LS-Buttplug Firmware Installer</title>
  <script type="module">
    import 'https://cdn.jsdelivr.net/npm/esp-web-tools@9.4.0/+esm';
  </script>
  <style>
    body { font-family: sans-serif; display:flex; flex-direction:column; align-items:center; padding:50px; background:#1a1a1a; color:#f5f5f5; }
    h1 { color:#ff4081; margin-bottom:20px; }
    select { padding:0.5rem 1rem; margin-bottom:20px; border-radius:6px; border:none; font-size:1rem; }
    esp-web-install-button { --esp-btn-bg-color:#6200ea; --esp-btn-text-color:#fff; --esp-btn-hover-bg:#3700b3; border-radius:8px; padding:0.8rem 2rem; font-size:1.1rem; }
  </style>
</head>
<body>
  <h1>LS-Buttplug Firmware Installer</h1>

  <label for="board">Select your board:</label>
  <select id="board">
    <option value="esp32">ESP32</option>
    <option value="esp32c3">ESP32-C3</option>
    <option value="esp32s3">ESP32-S3</option>
    <option value="seeed_xiao_esp32c3">Seeed XIAO ESP32-C3</option>
  </select>

  <esp-web-install-button id="installer" manifest="firmware/esp32/manifest.json">
    Install Firmware
  </esp-web-install-button>

  <script>
    const select = document.getElementById('board');
    const installer = document.getElementById('installer');

    select.addEventListener('change', () => {
      const board = select.value;
      // Меняем путь к manifest под выбранную плату
      installer.setAttribute('manifest', `firmware/${board}/manifest.json`);
    });
  </script>
</body>
</html>
